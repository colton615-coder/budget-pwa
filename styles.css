/* === Budget Buddy â€” styles.css (v2) ===================================== */
:root{
  --bg:#0b0f14; --panel:#0f151c; --tile:#0e1822;
  --outline:#12314a; --ink:#e9f2fb; --muted:#9fb3c5;
  --brand:#0ea5e9; --good:#22c55e; --bad:#ef4444;
  --br:14px; --shadow:0 12px 28px rgba(0,0,0,.23);
  --fs-xs:.78rem; --fs-sm:.9rem; --fs-md:1rem; --fs-lg:1.2rem;
  --tabs-h:60px; --container:1040px;
  --gap-1:.4rem; --gap-2:.66rem; --gap-3:.9rem; --gap-4:1.2rem;

  /* category colors */
  --c-housing:#60a5fa; --c-transport:#f59e0b; --c-utilities:#34d399; --c-debt:#f87171;
  --c-fixedother:#f472b6; --c-food:#22d3ee; --c-household:#a78bfa; --c-personal:#fb7185;
  --c-medical:#84cc16; --c-othervar:#eab308;
}

/* ---------- Reset / base ---------- */
*{box-sizing:border-box}
html,body{height:100%}
html, body{max-width:100%; overflow-x:hidden} /* hard-stop any horizontal scroll */
body{
  margin:0; color:var(--ink);
  background:radial-gradient(1000px 600px at 50% -10%, #0e1a27 0%, var(--bg) 55%);
  font:400 var(--fs-md)/1.45 ui-sans-serif, system-ui, -apple-system, "SF Pro Text","Segoe UI", Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing:antialiased; -webkit-tap-highlight-color:transparent;
}
img{display:block;max-width:100%}
.container{max-width:var(--container); width:100%; margin-inline:auto; padding-inline:16px}
.safe-edge{padding-top:env(safe-area-inset-top); padding-bottom:env(safe-area-inset-bottom)}

/* ---------- Header ---------- */
.app-header{position:sticky; top:0; z-index:7; backdrop-filter:blur(10px);
  background:linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,0)); border-bottom:1px solid rgba(14,165,233,.1)}
.topbar{display:flex; align-items:center; justify-content:space-between; gap:10px; padding:8px 0 6px}
.brand{display:flex; gap:10px; align-items:center}
.logo{width:28px; height:28px}
.app-title{margin:0; font-size:var(--fs-lg)}
.icon-btn{height:40px; min-width:40px; border-radius:12px; border:1px solid #0f2a3e; background:#0b1b28; color:#cfe7ff; padding:0 .7rem}

/* ---------- Tabs (bottom) ---------- */
.tabs{
  position:fixed; inset:auto 0 0 0; z-index:30;
  display:flex; gap:8px; padding:.45rem .6rem calc(.45rem + env(safe-area-inset-bottom));
  background:rgba(8,14,20,.88); border-top:1px solid #0b2638; backdrop-filter:blur(10px);
}
.tabs .tab{
  flex:1; height:var(--tabs-h); border-radius:14px; border:1px solid #0e2a40;
  background:#0c1a27; color:#d7f0ff; font-size:1.25rem;
}
.tabs .tab.is-active{background:linear-gradient(180deg,#14b4f0,#0ea5e9); color:#052436; font-weight:800}

/* Keep content clear of the tab bar */
.main{padding-bottom:calc(var(--tabs-h) + 28px + env(safe-area-inset-bottom))}

/* ---------- Panels / Cards ---------- */
.panel{display:none; animation:fadeUp .25s ease both}
.panel.is-active{display:block}
.card{background:var(--panel); border:1px solid var(--outline); border-radius:var(--br); padding:var(--gap-4); margin:var(--gap-3) 0; box-shadow:var(--shadow)}
h2{margin:.05rem 0 var(--gap-2); font-size:var(--fs-lg)} h3{margin:.05rem 0 var(--gap-2)}
.muted{color:var(--muted)}

/* ---------- Tiles ---------- */
.tiles{display:grid; grid-template-columns:repeat(12,minmax(0,1fr)); gap:var(--gap-2); margin-top:var(--gap-2)}
.tile{grid-column:span 6; background:linear-gradient(180deg,#0f1822,#0a1219); border:1px solid var(--outline); border-radius:14px; padding:var(--gap-3); min-height:94px; display:flex; flex-direction:column; justify-content:space-between}
.tile--month{grid-column:span 12}
@media (min-width:760px){ .tile{grid-column:span 3} .tile--month{grid-column:span 4} }
.tile-label{color:var(--muted); font-size:.86rem; margin:0 0 .25rem}
.tile-value{font-size:1.28rem; font-weight:800; margin:0}
.tile input[type="month"]{height:44px; width:100%; background:#0b1b28; border:1px solid var(--outline); color:var(--ink); border-radius:12px; padding:.55rem .6rem}

/* ---------- Forms ---------- */
.field{display:flex; flex-direction:column; gap:.35rem; min-width:0}
.field-label{font-size:.86rem; color:var(--muted)}
input, select, button{height:44px; border-radius:12px; border:1px solid var(--outline); background:#0b1b28; color:var(--ink); padding:.55rem .6rem}
input[type="number"]{text-align:right}
.btn{background:linear-gradient(180deg,#14b4f0,#0ea5e9); color:#052436; font-weight:800; border:none; padding-inline:1rem}
.btn.secondary{background:#162635; color:#d9f2ff; border:1px solid #29445b}
.btn.warn{background:linear-gradient(180deg,#ff7474,#ef4444); color:#350a0a}
.row-form,.grid-form{display:grid; gap:.66rem; margin:.6rem 0}
.row-form{grid-template-columns:1fr 160px auto}
.grid-form{grid-template-columns:repeat(6,minmax(0,1fr)); align-items:end}
.field--wide{grid-column:span 2}
.form-submit{grid-column:-2/-1}
@media (max-width:900px){
  .row-form{grid-template-columns:1fr 1fr}
  .grid-form{grid-template-columns:1fr 1fr}
  .field--wide,.form-submit{grid-column:1/-1}
}

/* ---------- Tables (responsive card-table, no horizontal scroll) ---------- */
.table-wrap{border-radius:12px; border:1px solid var(--outline); background:#0b1220}
.table{width:100%; border-collapse:collapse; table-layout:auto} /* natural cols on wide screens */
.table th,.table td{padding:.75rem .65rem; border-bottom:1px solid var(--outline); vertical-align:top; white-space:normal; word-wrap:break-word; overflow-wrap:anywhere}
.table th{color:#cfe7ff; text-align:left; font-weight:700}
.r{text-align:right}.c{text-align:center}

/* Stack to cards on small screens */
@media (max-width: 640px){
  .table{display:block}
  .table thead{display:none}             /* hide header fully (fixes overlay) */
  .table tbody{display:block}
  .table tr{
    display:block; margin:.6rem 0; border:1px solid var(--outline);
    border-radius:12px; background:#0b1520; overflow:hidden
  }
  .table td{
    display:grid; grid-template-columns: 1fr auto; gap:.75rem; align-items:center;
    border-bottom:1px solid rgba(255,255,255,.05); padding:.7rem .8rem
  }
  .table td:last-child{border-bottom:none}
  .table td::before{content:attr(data-label); color:var(--muted); font-weight:600}
}

/* ---------- Budget groups ---------- */
.budget-grid .group{margin:.6rem 0 .9rem; border:1px dashed #183a55; border-radius:12px; padding:.7rem}
.budget-grid h4{margin:.2rem .2rem .5rem}
.budget-grid .row{display:grid; grid-template-columns:1fr 150px; gap:.5rem; align-items:center; margin:.35rem 0}
@media (max-width:640px){ .budget-grid .row{grid-template-columns:1fr} }
.color-dot{width:10px; height:10px; border-radius:50%; display:inline-block}

/* ---------- Charts ---------- */
.charts{display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:.8rem}
@media (max-width:980px){ .charts{grid-template-columns:1fr} }
.chart{background:#0b1220; border:1px solid var(--outline); border-radius:12px; padding:.8rem; box-shadow:var(--shadow)}
.chart canvas{width:100% !important; height:220px !important} /* force visible height */

/* ---------- Goals ---------- */
.goals .goal{border:1px solid var(--outline); border-radius:12px; padding:10px; margin:8px 0; background:#0b1520}
.goal .bar{height:12px; border-radius:999px; background:#0c1a26; border:1px solid #103049; overflow:hidden}

/* ---------- Bottom sheet ---------- */
.sheet{position:fixed; inset:auto 0 0 0; z-index:40; transform:translateY(100%); transition:transform .28s cubic-bezier(.2,.7,.2,1); background:#0c131c; border-top:1px solid var(--outline); border-top-left-radius:18px; border-top-right-radius:18px}
.sheet[aria-hidden="false"]{transform:translateY(0)}
.sheet-content{padding:2.2rem .9rem .9rem; display:grid; gap:.6rem}
.sheet-close{position:absolute; right:.75rem; top:.6rem}
.menu-action{display:block; width:100%; text-align:left; padding:.7rem .8rem; border-radius:12px; border:1px solid var(--outline); background:#0b1b28; color:var(--ink)}
.menu-action.warn{background:#2a0f12; border-color:#4a1a1f; color:#ffd7d7}
.menu-action.file input{display:none}

/* ---------- Footer ---------- */
.app-footer{padding:.6rem 0}
#status{color:#9ed7ff; min-height:1em; font-size:.92rem}

/* ---------- Animations & density ---------- */
@keyframes fadeUp{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:translateY(0)}}
:root.compact input,:root.compact select,:root.compact .btn{height:40px}
#income-section .row { display:flex; gap:12px; align-items:center; margin-bottom:10px; }
#income-section label { min-width:110px; font-weight:600; }
#income-section input, #income-section select { flex:1; }
.list-head { display:flex; justify-content:space-between; align-items:baseline; margin-top:10px; }
.list li { display:flex; justify-content:space-between; padding:8px 0; border-bottom:1px solid rgba(0,0,0,0.08); }
.badge { font-size:12px; opacity:0.8; }
