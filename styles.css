/* ------------------------------------------------------------------
   Budget Buddy â€” styles.css (full reboot)
------------------------------------------------------------------- */
:root{
  --bg:#0b0f14; --surface:#0f151c; --surface-2:#0b1220; --outline:#113049;
  --ink:#e6eef6; --muted:#a0b4c6; --ring:#30b2ff; --brand:#27b0ff; --accent:#22c55e; --danger:#ef4444;
  --c-housing:#60a5fa; --c-transport:#f59e0b; --c-utilities:#34d399; --c-debt:#f87171;
  --c-fixedother:#f472b6; --c-food:#22d3ee; --c-household:#a78bfa; --c-personal:#fb7185;
  --c-medical:#84cc16; --c-othervar:#eab308;
  --fs-12:.75rem; --fs-13:.8125rem; --fs-14:.875rem; --fs-16:1rem; --fs-18:1.125rem; --fs-20:clamp(1.1rem,1.5vw + .7rem,1.25rem); --fs-24:clamp(1.2rem,2vw + .7rem,1.5rem);
  --r-sm:10px; --r-md:14px; --r-lg:18px; --shadow:0 12px 30px rgba(0,0,0,.25);
  --gap-1:.4rem; --gap-2:.66rem; --gap-3:.9rem; --gap-4:1.2rem; --gap-5:1.6rem;
  --container:1040px; --tabs-h:60px;
}
*{box-sizing:border-box} html,body{height:100%}
body{
  margin:0; color:var(--ink);
  background: radial-gradient(1200px 800px at 20% -10%, #0d1a27 0%, var(--bg) 55%);
  font:500 var(--fs-16)/1.45 ui-sans-serif, system-ui, -apple-system, "SF Pro Text", Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
  -webkit-font-smoothing:antialiased; -webkit-tap-highlight-color:transparent;
}
:focus{outline:none}
:focus-visible{box-shadow:0 0 0 3px color-mix(in oklab, var(--ring) 80%, transparent 20%) !important; border-color: color-mix(in oklab, var(--ring) 50%, var(--outline) 50%) !important}
img{display:block; max-width:100%}
.container{max-width:var(--container); margin-inline:auto; padding-inline:var(--gap-3)}
.safe-edge{padding-top:env(safe-area-inset-top); padding-bottom:env(safe-area-inset-bottom)}
.app-header{position:sticky; top:0; z-index:5; backdrop-filter:blur(10px); background:linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,0)); border-bottom:1px solid rgba(48,178,255,.15)}
.topbar{display:grid; grid-template-columns:auto 1fr auto; gap:var(--gap-2); align-items:center; padding:.6rem 0 .4rem}
.logo{width:28px;height:28px}
.app-title{margin:0; font-size:var(--fs-24); letter-spacing:.2px}
.icon-btn{--bg:#0c1a27; --bd:#0e2a40; display:inline-flex; align-items:center; justify-content:center; height:40px; min-width:40px; padding:0 .7rem; background:var(--bg); border:1px solid var(--bd); color:#cfe7ff; border-radius:var(--r-sm); box-shadow:inset 0 0 0 1px rgba(255,255,255,.02); cursor:pointer}
.icon-btn:active{transform:translateY(1px)}

.card{background:var(--surface); border:1px solid var(--outline); border-radius:var(--r-md); padding:var(--gap-4); margin:var(--gap-3) 0; box-shadow:var(--shadow)}
.card h2{margin:.1rem 0 var(--gap-2); font-size:var(--fs-20)}
.card h3{margin:.1rem 0 var(--gap-2); font-size:var(--fs-18)}
.muted{color:var(--muted); font-size:.92rem}

/* Tiles */
.tiles{display:grid; grid-template-columns:repeat(12,1fr); gap:var(--gap-2); margin-top:var(--gap-2)}
.tile{grid-column:span 6; background:linear-gradient(180deg,#0f1822,#0d1420); border:1px solid var(--outline); border-radius:var(--r-md); min-height:96px; padding:var(--gap-3); display:flex; flex-direction:column; justify-content:space-between}
.tile--month{grid-column:span 12}
@media (min-width:720px){ .tile{grid-column:span 3} .tile--month{grid-column:span 4} }
.tile-label{color:var(--muted); font-size:var(--fs-13); margin:0 0 .25rem}
.tile-value{font-size:1.35rem; font-weight:800; margin:0}
.tile input[type="month"]{height:44px; width:100%; background:#0c1a27; border:1px solid var(--outline); color:var(--ink); border-radius:var(--r-sm); padding:.55rem .6rem}

/* Forms */
.field{display:flex; flex-direction:column; gap:.35rem; min-width:0}
.field-label{font-size:var(--fs-13); color:var(--muted)}
input,select,button{height:44px; border-radius:var(--r-sm); border:1px solid var(--outline); background:#0c1a27; color:var(--ink); padding:.55rem .65rem}
input[type="number"]{text-align:right}
.btn{--bg-top:color-mix(in oklab, var(--brand) 92%, #0a6ea5 8%); --bg-bot:var(--brand); height:44px; padding-inline:1rem; border-radius:var(--r-sm); border:1px solid color-mix(in oklab, var(--brand) 40%, #0b2a40 60%); background:linear-gradient(180deg,var(--bg-top),var(--bg-bot)); color:#05273a; font-weight:800; cursor:pointer}
.btn.secondary{background:#0e2233; color:#d7f0ff; border-color:#163a54}
.btn.warn{background:linear-gradient(180deg,#ff7b7b,#ef4444); border-color:#7a1c1c; color:#300a0a}

.row-form,.grid-form{display:grid; gap:var(--gap-2); margin:.6rem 0}
.row-form{grid-template-columns:1fr 1fr auto}
.grid-form{grid-template-columns:repeat(6,1fr); align-items:end}
.field--wide{grid-column:span 2}
.form-submit{grid-column:-2/-1}
@media (max-width:980px){ .row-form{grid-template-columns:1fr 1fr} .grid-form{grid-template-columns:1fr 1fr} .form-submit{grid-column:1/-1} }

/* Tables */
.table-wrap{overflow-x:auto; -webkit-overflow-scrolling:touch; border-radius:var(--r-md); border:1px solid var(--outline)}
.table{width:100%; min-width:640px; border-collapse:collapse; background:var(--surface-2)}
.table th,.table td{padding:.75rem .65rem; border-bottom:1px solid var(--outline); vertical-align:middle; white-space:nowrap}
.table th{color:#cfe1f5; text-align:left; font-weight:700}
.r{text-align:right}.c{text-align:center}
.badge{display:inline-flex; align-items:center; gap:.3rem; height:26px; padding:0 .6rem; border-radius:999px; background:#152636; color:#cfe7ff; border:1px solid #1a3b55; font-size:var(--fs-12)}
.badge.need{background:#15321f; color:#d7ffe2; border-color:#1c4a2b}
.badge.want{background:#361519; color:#ffd6db; border-color:#4a1c24}

/* Budget planner */
.budget-grid .group{margin:.6rem 0 .9rem; border:1px dashed #183a55; border-radius:var(--r-md); padding:.7rem .7rem .3rem}
.budget-grid h4{margin:.2rem .2rem .5rem; font-size:var(--fs-16)}
.budget-grid .row{display:grid; grid-template-columns:1fr 160px; gap:.5rem; align-items:center; margin:.35rem 0}
.budget-grid .row label{display:flex; align-items:center; gap:.55rem; min-width:0}
.color-dot{width:10px; height:10px; border-radius:50%; display:inline-block}
@media (max-width:720px){ .budget-grid .row{grid-template-columns:1fr} }
.totals{display:flex; justify-content:flex-end; gap:1rem; margin-top:.6rem}

/* Charts */
.charts{display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:var(--gap-2)}
.chart{background:var(--surface-2); border:1px solid var(--outline); border-radius:var(--r-md); padding:.8rem; box-shadow:var(--shadow)}
@media (max-width:980px){ .charts{grid-template-columns:1fr} }

/* Bottom sheet */
.sheet{position:fixed; inset:auto 0 0 0; z-index:40; transform:translateY(100%); transition:transform .28s cubic-bezier(.2,.7,.2,1); background:#0c131c; border-top:1px solid var(--outline); border-top-left-radius:var(--r-lg); border-top-right-radius:var(--r-lg)}
.sheet[aria-hidden="false"]{transform:translateY(0)}
.sheet-close{position:absolute; right:.75rem; top:.6rem}
.sheet-content{padding:2.4rem .9rem .9rem; display:grid; gap:.6rem}
.menu-action{display:block; width:100%; text-align:left; padding:.7rem .8rem; border-radius:var(--r-md); border:1px solid var(--outline); background:#0c1a27; color:var(--ink)}
.menu-action.warn{background:#200b0d; border-color:#3a1217; color:#ffd7d7}
.menu-action.file input{display:none}

/* Bottom tabs */
.tabs{position:fixed; inset:auto 0 0 0; z-index:35; display:grid; grid-template-columns:repeat(5,1fr); gap:6px; padding:.45rem .5rem calc(.45rem + env(safe-area-inset-bottom)); background:rgba(8,14,20,.86); border-top:1px solid #0b2638; backdrop-filter:blur(10px)}
.tabs [role="tab"]{height:var(--tabs-h); background:#0c1a27; border:1px solid #0e2a40; color:#d3ecff; border-radius:12px; font-size:1.25rem; display:flex; align-items:center; justify-content:center; box-shadow:inset 0 0 0 1px rgba(255,255,255,.03)}
.tabs [aria-selected="true"]{background:linear-gradient(180deg, color-mix(in oklab, var(--brand) 95%, #0a6ea5 5%), var(--brand)); color:#052436; font-weight:800; border-color:color-mix(in oklab, var(--brand) 45%, #0e2a40 55%)}
main{padding-bottom:calc(var(--tabs-h) + 20px + env(safe-area-inset-bottom))}

/* Panels */
.panel{display:none; animation:fadeUp .25s ease both}
.panel.is-active{display:block}

/* Footer / status */
.app-footer{padding:.5rem 0 .8rem}
#status{color:#9dd6ff; font-size:var(--fs-14)}

/* Primer blocks */
.two-col{display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:1rem}
@keyframes fadeUp{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:translateY(0)}}

/* Density */
:root.compact .row-form,:root.compact .grid-form{gap:.45rem}
:root.compact input,:root.compact select,:root.compact button{height:40px}

/* iOS niceties */
html,body{overscroll-behavior-y:none}
body{overflow-x:hidden}
select{-webkit-appearance:none; background-image:linear-gradient(45deg,transparent 50%, #8fbfe2 50%), linear-gradient(135deg, #8fbfe2 50%, transparent 50%); background-position:calc(100% - 16px) 18px, calc(100% - 10px) 18px; background-size:6px 6px,6px 6px; background-repeat:no-repeat; padding-right:28px}
