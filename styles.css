/* ---------- Design System (uniform spacing + type scale) ---------- */
:root{
  /* palette */
  --bg: #0a0f14;
  --card: #0f151b;
  --ink: #e8f0f6;
  --muted: #9eb2c4;
  --brand: #0ea5e9;
  --accent: #22c55e;
  --warn: #ef4444;
  --tile: #0f1720;
  --ring: rgba(14,165,233,0.28);
  --shadow: 0 10px 25px rgba(0,0,0,.22);
  --radius: 14px;

  /* category palette */
  --c-housing:#60a5fa;
  --c-transport:#f59e0b;
  --c-utilities:#34d399;
  --c-debt:#f87171;
  --c-fixedother:#f472b6;
  --c-food:#22d3ee;
  --c-household:#a78bfa;
  --c-personal:#fb7185;
  --c-medical:#84cc16;
  --c-othervar:#eab308;

  /* type scale */
  --fs-xs: .78rem;
  --fs-sm: .9rem;
  --fs-md: clamp(.98rem, 1.2vw + .8rem, 1.05rem);
  --fs-lg: clamp(1.05rem, 1.3vw + .9rem, 1.25rem);
  --fs-xl: clamp(1.25rem, 2vw + 1rem, 1.6rem);

  /* spacing scale */
  --sp-1: .35rem;
  --sp-2: .6rem;
  --sp-3: .9rem;
  --sp-4: 1.2rem;
  --sp-5: 1.6rem;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--ink);
  background:linear-gradient(180deg,#071018,#0b1620 50%, #0b0f14);
  font-family: ui-sans-serif, system-ui, -apple-system, "SF Pro Text",
    "Segoe UI", Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
  font-size: var(--fs-md);
  line-height: 1.45;
  -webkit-tap-highlight-color: transparent;
}

.safe-edge{padding-top: env(safe-area-inset-top); padding-bottom: env(safe-area-inset-bottom)}
.container{max-width: 1100px; margin-inline:auto; padding-inline: var(--sp-3)}

.app-header{position:sticky; top:0; z-index:5; backdrop-filter: blur(10px);
  background:linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,0));
  border-bottom:1px solid rgba(14,165,233,.08);
}
.topbar{display:flex; align-items:center; gap:.75rem; padding: var(--sp-2) 0 var(--sp-1)}
.app-title{font-size: var(--fs-lg); margin:0; letter-spacing:.3px}
.logo{width:28px; height:28px}
.icon-btn{margin-left:auto; background:#0b1b28; color:#bfe8ff; border:1px solid #0c2b40; border-radius:10px; padding:.5rem .65rem}
.icon-btn:active{transform:scale(.98)}

/* ---------- Uniform Tiles ---------- */
.tiles{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
  gap: var(--sp-2);
  padding-bottom: var(--sp-2);
}
.tile{
  background:var(--tile);
  border:1px solid #0e2233;
  border-radius:12px;
  padding: var(--sp-2);
  box-shadow:var(--shadow);
  display:flex; flex-direction:column; justify-content:space-between;
  min-height: 90px;
  animation: fadeUp .35s ease both;
}
.tile--month{min-height: 90px}
.tile-label{font-size: var(--fs-xs); color:var(--muted); margin:0 0 var(--sp-1)}
.tile-value{font-size: var(--fs-lg); font-weight:800; margin:0}
.tile-control input[type="month"]{
  width:100%; height:44px; background:#0b1b28; border:1px solid #12314a;
  border-radius:10px; color:var(--ink); padding:.55rem .6rem;
}

/* ---------- Cards ---------- */
main{padding-block: var(--sp-2) var(--sp-4)}
.card{
  background:var(--card);
  border:1px solid #0d2233;
  border-radius: var(--radius);
  padding: var(--sp-3);
  margin-block: var(--sp-2);
  box-shadow: var(--shadow);
  animation: fadeUp .4s ease both;
}
.card h2{margin:.1rem 0 var(--sp-2); font-size: var(--fs-lg)}
.card h3{margin:.1rem 0 var(--sp-2); font-size: var(--fs-md)}

/* ---------- Forms (uniform inputs) ---------- */
.row-form, .grid-form{display:grid; gap: var(--sp-2); margin:.5rem 0}
.row-form{grid-template-columns: 1fr 1fr auto}
.grid-form{
  grid-template-columns: repeat(6, 1fr);
  align-items:end;
}
.form-submit{grid-column: -2 / -1}

@media (max-width: 980px){
  .row-form{grid-template-columns: 1fr 1fr; }
  .grid-form{grid-template-columns: 1fr 1fr; }
  .form-submit{grid-column: 1 / -1}
}
.field{display:flex; flex-direction:column; gap:.35rem}
.field--wide{grid-column: span 2}
.field-label{font-size:.82rem; color:var(--muted)}
input, select, button{
  height:44px;
  border-radius:10px; border:1px solid #12314a; background:#0b1b28; color:var(--ink);
  padding:.55rem .65rem; outline:none; width:100%;
}
input:focus, select:focus{box-shadow:0 0 0 3px var(--ring)}
input[type="number"]{text-align:right}
.btn{
  background:linear-gradient(180deg,#14b4f0, #0ea5e9);
  color:#052436; font-weight:800; border:none; padding-inline:1rem
}
.btn:active{transform:translateY(1px)}

/* ---------- Tables (uniform + safe overflow) ---------- */
.table-wrap{overflow-x:auto; -webkit-overflow-scrolling: touch; border-radius:12px; border:1px solid #0d2233}
.table{width:100%; border-collapse:collapse; min-width: 640px; background:#0b1220}
.table th,.table td{padding:.75rem .6rem; border-bottom:1px solid #0d2233; vertical-align:middle}
.table th{color:#cde5f8; text-align:left; font-weight:700}
.table .r{text-align:right}
.table .c{text-align:center}

/* ---------- Budget Planner grid (consistent rows) ---------- */
.budget-grid .group{
  margin:.6rem 0 .9rem; border:1px dashed #14324a; border-radius:12px; padding: .6rem .6rem .2rem;
}
.group h4{margin:.2rem .2rem .5rem; font-size:1rem}
.group .row{
  display:grid;
  grid-template-columns: 1fr 160px;
  gap:.5rem;
  align-items:center;
  margin:.35rem 0;
}
.group .row label{display:flex; align-items:center; gap:.5rem; min-width:0}
.group .row input{width:100%}
@media (max-width:700px){
  .group .row{grid-template-columns: 1fr}
}
.color-dot{width:10px; height:10px; border-radius:50%; display:inline-block}

/* ---------- Charts ---------- */
.chart{
  background:#0b1220; border:1px solid #0d2233; border-radius:12px; padding:.8rem; box-shadow: var(--shadow);
}
.charts{display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:.8rem}
@media (max-width:980px){ .charts{grid-template-columns: 1fr} }

/* ---------- Bottom sheet ---------- */
.sheet{position:fixed; inset:auto 0 0 0; transform: translateY(100%); transition:.25s transform; background: #0b1118; border-top:1px solid #0d2233; border-top-left-radius:16px; border-top-right-radius:16px; z-index:40}
.sheet[aria-hidden="false"]{transform:translateY(0)}
.sheet-close{position:absolute; right:.75rem; top:.65rem}
.sheet-content{padding:2.5rem .75rem .8rem; display:grid; gap:.5rem}
.menu-action{display:block; width:100%; text-align:left; padding:.7rem .8rem; border-radius:12px; border:1px solid #11304a; background:#0b1b28}
.menu-action.warn{border-color:#3b0d10; color:#ffd0d0; background:#22080a}
.menu-action.file input{display:none}

/* ---------- Helpers ---------- */
.totals{display:flex; justify-content:flex-end; gap:1rem; margin-top:.6rem}
.muted{color:var(--muted); font-size:.9rem}
.app-footer{padding: .35rem .2rem}
#status{color:#94d6ff; font-size:.92rem}

/* ---------- Category heading colors ---------- */
.color-housing{color:var(--c-housing)}
.color-transport{color:var(--c-transport)}
.color-utilities{color:var(--c-utilities)}
.color-debt{color:var(--c-debt)}
.color-fixedother{color:var(--c-fixedother)}
.color-food{color:var(--c-food)}
.color-household{color:var(--c-household)}
.color-personal{color:var(--c-personal)}
.color-medical{color:var(--c-medical)}
.color-othervar{color:var(--c-othervar)}

/* ---------- Styling Primer (emphasized bullets) ---------- */
.two-col{display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:1rem}
@media (max-width:920px){ .two-col{grid-template-columns: 1fr} }
.callout{
  border:1px solid #12314a; background:linear-gradient(180deg,#0b1b28,#0b1620);
  border-radius:14px; padding:1rem; box-shadow: var(--shadow);
}
.callout h3{font-size: var(--fs-md); margin:.2rem 0 .6rem}
.bullets{list-style:none; padding:0; margin:0; display:grid; gap:.6rem}
.bullets li{
  position:relative; padding-left:1.8rem; line-height:1.35;
}
.bullets li::before{
  content:"âœ”"; color:var(--accent);
  position:absolute; left:.5rem; top:.15rem; font-weight:900;
}

/* ---------- Animations ---------- */
@keyframes fadeUp{
  from{opacity:0; transform: translateY(6px)}
  to{opacity:1; transform: translateY(0)}
}
