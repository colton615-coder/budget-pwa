<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no" />
  <title>Budget Buddy</title>

  <!-- iOS PWA -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="Budget Buddy" />
  <link rel="apple-touch-icon" href="icons/apple-touch-icon.png" />

  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="theme-color" content="#0ea5e9" />

  <link rel="stylesheet" href="styles.css" />

  <!-- Chart.js -->
  <script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"
          integrity="sha384-Qx8u90W5xCuD5RLcbYV2F6T+byDgOQVOvJr2Z8QQ7JrGdF3uz6Zfx9qrZJ8uY0m+"
          crossorigin="anonymous"></script>

  <script defer src="app.js"></script>
</head>
<body>
  <header class="app-header">
    <div class="safe-edge"></div>
    <div class="wrap">
      <div class="brand">
        <img src="assets/logo.svg" alt="" width="28" height="28" />
        <h1>Budget Buddy</h1>
      </div>
      <div class="month-switcher">
        <label class="sr-only" for="monthPicker">Month</label>
        <input id="monthPicker" type="month" />
      </div>
    </div>
  </header>

  <!-- TABS -->
  <nav id="tabs" class="tabs" role="tablist" aria-label="Sections">
    <button class="tab is-active" role="tab" aria-selected="true" aria-controls="panel-overview" data-tab="overview">
      <span class="i">üè†</span><span class="t">Overview</span>
    </button>
    <button class="tab" role="tab" aria-controls="panel-planner" data-tab="planner">
      <span class="i">üßÆ</span><span class="t">Planner</span>
    </button>
    <button class="tab" role="tab" aria-controls="panel-expenses" data-tab="expenses">
      <span class="i">üßæ</span><span class="t">Expenses</span>
    </button>
    <button class="tab" role="tab" aria-controls="panel-goals" data-tab="goals">
      <span class="i">üéØ</span><span class="t">Goals</span>
    </button>
    <button class="tab" role="tab" aria-controls="panel-settings" data-tab="settings">
      <span class="i">‚öôÔ∏è</span><span class="t">Settings</span>
    </button>
  </nav>

  <main class="wrap main">

    <!-- OVERVIEW -->
    <section id="panel-overview" class="panel is-active" role="tabpanel" aria-labelledby="tab-overview">
      <section class="grid-tiles">
        <article class="tile">
          <p class="k">Income</p>
          <p class="v" id="tl-income">$0</p>
        </article>
        <article class="tile">
          <p class="k">Expenses</p>
          <p class="v" id="tl-expenses">$0</p>
        </article>
        <article class="tile">
          <p class="k">Budget Result</p>
          <p class="v" id="tl-result">$0</p>
        </article>
      </section>

      <section class="card">
        <h2>Quick actions</h2>
        <div class="actions">
          <button id="qa-add-income" class="btn">Add Income</button>
          <button id="qa-add-expense" class="btn">Add Expense</button>
          <button id="qa-load-sample" class="btn ghost">Load Sample</button>
        </div>
      </section>

      <section class="card">
        <h2>Analytics</h2>
        <div id="charts" class="charts">
          <div class="chart"><h3>Spending by Category</h3><canvas id="chart-category" height="160"></canvas></div>
          <div class="chart"><h3>Budget vs Actual</h3><canvas id="chart-budget" height="160"></canvas></div>
          <div class="chart"><h3>Needs vs Wants</h3><canvas id="chart-needwant" height="160"></canvas></div>
          <div class="chart"><h3>Cumulative Cashflow</h3><canvas id="chart-cashflow" height="160"></canvas></div>
        </div>
      </section>
    </section>

    <!-- PLANNER (Income + Budgets) -->
    <section id="panel-planner" class="panel" role="tabpanel" aria-labelledby="tab-planner">
      <section class="card">
        <h2>Monthly Income</h2>
        <form id="income-form" class="row">
          <label class="field"><span>Source</span><input id="income-source" type="text" required placeholder="Paycheck, Side hustle‚Ä¶"></label>
          <label class="field"><span>Amount</span><input id="income-amount" type="number" step="0.01" inputmode="decimal" min="0" required placeholder="0.00"></label>
          <button class="btn">Add</button>
        </form>
        <div class="table-wrap">
          <table class="table">
            <thead><tr><th>Source</th><th class="r">Amount</th><th class="c">Action</th></tr></thead>
            <tbody id="income-tbody"></tbody>
            <tfoot><tr><th>Total</th><th class="r" id="income-total">$0</th><th></th></tr></tfoot>
          </table>
        </div>
      </section>

      <section class="card">
        <h2>Budget Planner</h2>
        <p class="muted">Set a budget per category for <strong id="bp-month-label"></strong>.</p>
        <div id="budget-groups" class="budget-grid"></div>
        <div class="totals">Budgeted Total: <strong id="budgeted-total">$0</strong></div>
      </section>
    </section>

    <!-- EXPENSES -->
    <section id="panel-expenses" class="panel" role="tabpanel" aria-labelledby="tab-expenses">
      <section class="card">
        <h2>Track Expenses</h2>
        <form id="tx-form" class="grid">
          <label class="field"><span>Date</span><input id="tx-date" type="date" required></label>
          <label class="field wide"><span>Description</span><input id="tx-desc" type="text" required placeholder="Groceries @ Trader Joe‚Äôs"></label>
          <label class="field"><span>Category</span><select id="tx-category" required></select></label>
          <label class="field"><span>Need / Want</span>
            <select id="tx-needwant"><option value="need">Need</option><option value="want">Want</option></select>
          </label>
          <label class="field"><span>Amount</span><input id="tx-amount" type="number" step="0.01" inputmode="decimal" min="0" required placeholder="0.00"></label>
          <label class="field wide"><span>Notes</span><input id="tx-notes" type="text" placeholder="Why over/under‚Ä¶"></label>
          <button class="btn submit">Add</button>
        </form>

        <div class="table-wrap">
          <table class="table">
            <thead><tr><th>Date</th><th>Description</th><th>Category</th><th>Need/Want</th><th class="r">Amount</th><th>Notes</th><th class="c">Action</th></tr></thead>
            <tbody id="tx-tbody"></tbody>
            <tfoot><tr><th colspan="4">Total Expenses</th><th class="r" id="tx-total">$0</th><th colspan="2"></th></tr></tfoot>
          </table>
        </div>
      </section>
    </section>

    <!-- GOALS -->
    <section id="panel-goals" class="panel" role="tabpanel" aria-labelledby="tab-goals">
      <section class="card">
        <h2>Goals</h2>
        <form id="goal-form" class="row">
          <label class="field"><span>Name</span><input id="goal-name" required placeholder="Emergency Fund, Vacation‚Ä¶"></label>
          <label class="field"><span>Target</span><input id="goal-target" type="number" step="0.01" min="0" required placeholder="0.00"></label>
          <button class="btn">Add Goal</button>
        </form>
        <div id="goal-list" class="goals"></div>
      </section>

      <section class="card">
        <h2>Record Savings</h2>
        <form id="save-form" class="row">
          <label class="field"><span>Goal</span><select id="save-goal" required></select></label>
          <label class="field"><span>Date</span><input id="save-date" type="date" required></label>
          <label class="field"><span>Amount</span><input id="save-amount" type="number" step="0.01" min="0" required placeholder="0.00"></label>
          <button class="btn">Record</button>
        </form>
        <div class="table-wrap">
          <table class="table">
            <thead><tr><th>Date</th><th>Goal</th><th class="r">Amount</th><th class="c">Action</th></tr></thead>
            <tbody id="save-tbody"></tbody>
            <tfoot><tr><th colspan="2">This Month Saved</th><th class="r" id="save-total">$0</th><th></th></tr></tfoot>
          </table>
        </div>
      </section>
    </section>

    <!-- SETTINGS -->
    <section id="panel-settings" class="panel" role="tabpanel" aria-labelledby="tab-settings">
      <section class="card">
        <h2>Settings</h2>
        <form id="settings-form" class="grid-2">
          <label class="field"><span>Currency</span>
            <select id="set-currency"><option>USD</option><option>EUR</option><option>GBP</option><option>CAD</option><option>AUD</option><option>JPY</option><option>INR</option><option>MXN</option><option>BRL</option></select>
          </label>
          <label class="field"><span>Brand Hue</span><input id="set-brand" type="color" value="#0ea5e9"></label>
          <label class="field"><span>Default Need/Want</span><select id="set-default-nw"><option value="need">Need</option><option value="want">Want</option></select></label>
          <label class="field"><span>Density</span><select id="set-density"><option value="comfortable">Comfortable</option><option value="compact">Compact</option></select></label>
          <label class="field"><span>Charts</span><select id="set-charts"><option value="on">On</option><option value="off">Off</option></select></label>
          <div class="field"><span>&nbsp;</span><button class="btn">Save Settings</button></div>
        </form>
      </section>

      <section class="card">
        <h2>Data</h2>
        <div class="actions wrap">
          <button id="btn-export" class="btn">Export (JSON)</button>
          <label class="btn file">
            Import (JSON) <input id="file-import" type="file" accept="application/json">
          </label>
          <button id="btn-clear-month" class="btn ghost">Reset Current Month</button>
          <button id="btn-reset-all" class="btn danger">Reset ALL</button>
        </div>
        <p class="muted">Stored locally on this device.</p>
      </section>

      <section class="card">
        <h2>Styling Primer</h2>
        <div class="primer">
          <div class="callout">
            <h3>Styling</h3>
            <ul>
              <li><strong>Typography</strong>: fonts, sizes, spacing.</li>
              <li><strong>Color palette</strong>: brand + accents.</li>
              <li><strong>Visual hierarchy</strong>: layout communicates importance.</li>
              <li><strong>Animations</strong>: subtle, purposeful motion.</li>
            </ul>
          </div>
          <div class="callout">
            <h3>Common design styles</h3>
            <ul>
              <li><strong>Flat design</strong>: minimal, crisp.</li>
              <li><strong>Material design</strong>: layered, tactile, motion-driven.</li>
            </ul>
          </div>
        </div>
      </section>

      <footer class="app-footer">
        <div id="status" role="status" aria-live="polite"></div>
        <div class="safe-edge"></div>
      </footer>
    </section>

  </main>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js').catch(console.error);
      });
    }
  </script>
</body>
</html>
